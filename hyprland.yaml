impl: 'https://github.com/blend-os/tracks/raw/main'
track: 'blendos-base'

packages:
  - 'adw-gtk3'
  - 'baobab'
  - 'blendos-wallpapers-git'
  - 'flatpak'
  - 'gdm'
  - 'gnome-backgrounds'
  - 'gnome-calculator'
  - 'gnome-control-center'
  - 'gnome-disk-utility'
  - 'gnome-keyring'
  - 'gnome-menus'
  - 'gnome-settings-daemon'
  - 'gnome-shell-extensions'
  - 'gnome-shell-extension-appindicator'
  - 'gnome-shell-extension-blur-my-shell'
  - 'gnome-shell-extension-dash-to-dock'
  - 'gnome-software'
  - 'gnome-system-monitor'
  - 'gnome-text-editor'
  - 'gnome-user-docs'
  - 'gnome-user-share'
  - 'grilo-plugins'
  - 'gvfs'
  - 'gvfs-afc'
  - 'gvfs-goa'
  - 'gvfs-google'
  - 'gvfs-gphoto2'
  - 'gvfs-mtp'
  - 'gvfs-nfs'
  - 'gvfs-smb'
  - 'loupe'
  - 'malcontent'
  - 'nautilus'
  - 'orca'
  - 'rygel'
  - 'snapshot'
  - 'tecla'
  - 'tracker3-miners'
  - 'waydroid'
  - 'xdg-desktop-portal-gnome'
  - 'xdg-user-dirs-gtk'
  - 'hyprland'
  - 'waybar'
  - 'swww'
  - 'rofi'
  - 'swaync'
  - 'nemo'
  - 'kitty'
  - 'pavucontrol'
  - 'gtk3'
  - 'gtk2'
  - 'xcur2png'
  - 'nwg-look'
  - 'fastfetch'
  - 'zsh'
  - 'networkmanager'
  - 'networkmanager-qt'
  - 'nm-connection-editor'

aur-packages:
  - 'qemu-full'
  - 'virt-manager'
  - 'linutil-bin'
  - 'waydroid-image-gapps'
  - 'power-profiles-daemon'
  - 'oh-my-zsh-git'
  - 'hyprshot'
  - 'wlogout'
  - 'waypaper'
  - 'gsettings'
commands:
  - 'find /usr/share/metainfo ! -name "org.freedesktop.appstream.cli.metainfo.xml" ! -name "org.freedesktop.appstream.compose.metainfo.xml" ! -name "org.gnome.Software.Plugin.Flatpak.metainfo.xml" ! -name "org.gnome.Software.Plugin.Fwupd.metainfo.xml" -type f -exec rm -f {} +'
  - 'rm -f /usr/share/applications/{stoken-gui.desktop,stoken-gui-small.desktop,qvidcap.desktop,qv4l2.desktop,bvnc.desktop,electron*.desktop,avahi-discover.desktop,bssh.desktop,linutil.desktop}'
  - 'sudo groupadd -f libvirt'
  - 'sudo useradd -r -s /sbin/nologin libvirt-qemu 2>/dev/null || true'
  - 'sudo usermod -aG kvm,libvirt libvirt-qemu'
  - 'sudo usermod -aG libvirt "$(whoami)"'
  - 'sudo localectl set-locale LANG=nl_NL.UTF-8'
  - 'sudo locale-gen'
  - 'mkdir fonts && cd fonts'
  - "curl -sL https://github.com/ryanoasis/nerd-fonts/releases/latest | egrep -o '/ryanoasis/nerd-fonts/releases/download/.+\\.zip' | sed 's|^|https://github.com|' | wget -i /dev/fd/0"
  - 'unzip "*.zip" -d ~/.local/share/fonts'
  - 'fc-cache -fv'
  - 'cd .. && rm -rf fonts'

services:
  - 'gdm'
  - 'libvirtd'
  - 'libvirt-storaged'